<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu Feb 23 04:12:06 UTC 2017 -->
<title>OneForOneStreamManager</title>
<meta name="date" content="2017-02-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OneForOneStreamManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/network/server/NoOpRpcHandler.html" title="class in org.apache.spark.network.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/spark/network/server/RpcHandler.html" title="class in org.apache.spark.network.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/network/server/OneForOneStreamManager.html" target="_top">Frames</a></li>
<li><a href="OneForOneStreamManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.spark.network.server</div>
<h2 title="Class OneForOneStreamManager" class="title">Class OneForOneStreamManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">org.apache.spark.network.server.StreamManager</a></li>
<li>
<ul class="inheritance">
<li>org.apache.spark.network.server.OneForOneStreamManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">OneForOneStreamManager</span>
extends <a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></pre>
<div class="block">StreamManager which allows registration of an Iterator&lt;ManagedBuffer&gt;, which are
 individually fetched as chunks by the client. Each registered buffer is one chunk.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#OneForOneStreamManager--">OneForOneStreamManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#checkAuthorization-org.apache.spark.network.client.TransportClient-long-">checkAuthorization</a></span>(<a href="../../../../../org/apache/spark/network/client/TransportClient.html" title="class in org.apache.spark.network.client">TransportClient</a>&nbsp;client,
                  long&nbsp;streamId)</code>
<div class="block">Verify that the client is authorized to read from the given stream.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#connectionTerminated-io.netty.channel.Channel-">connectionTerminated</a></span>(io.netty.channel.Channel&nbsp;channel)</code>
<div class="block">Indicates that the given channel has been terminated.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/spark/network/buffer/ManagedBuffer.html" title="class in org.apache.spark.network.buffer">ManagedBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#getChunk-long-int-">getChunk</a></span>(long&nbsp;streamId,
        int&nbsp;chunkIndex)</code>
<div class="block">Called in response to a fetchChunk() request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#registerChannel-io.netty.channel.Channel-long-">registerChannel</a></span>(io.netty.channel.Channel&nbsp;channel,
               long&nbsp;streamId)</code>
<div class="block">Associates a stream with a single client connection, which is guaranteed to be the only reader
 of the stream.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/spark/network/server/OneForOneStreamManager.html#registerStream-java.lang.String-java.util.Iterator-">registerStream</a></span>(java.lang.String&nbsp;appId,
              java.util.Iterator&lt;<a href="../../../../../org/apache/spark/network/buffer/ManagedBuffer.html" title="class in org.apache.spark.network.buffer">ManagedBuffer</a>&gt;&nbsp;buffers)</code>
<div class="block">Registers a stream of ManagedBuffers which are served as individual chunks one at a time to
 callers.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.spark.network.server.StreamManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.spark.network.server.<a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></h3>
<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#openStream-java.lang.String-">openStream</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OneForOneStreamManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OneForOneStreamManager</h4>
<pre>public&nbsp;OneForOneStreamManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerChannel-io.netty.channel.Channel-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerChannel</h4>
<pre>public&nbsp;void&nbsp;registerChannel(io.netty.channel.Channel&nbsp;channel,
                            long&nbsp;streamId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#registerChannel-io.netty.channel.Channel-long-">StreamManager</a></code></span></div>
<div class="block">Associates a stream with a single client connection, which is guaranteed to be the only reader
 of the stream. The getChunk() method will be called serially on this connection and once the
 connection is closed, the stream will never be used again, enabling cleanup.

 This must be called before the first getChunk() on the stream, but it may be invoked multiple
 times with the same channel and stream id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#registerChannel-io.netty.channel.Channel-long-">registerChannel</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getChunk-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunk</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/spark/network/buffer/ManagedBuffer.html" title="class in org.apache.spark.network.buffer">ManagedBuffer</a>&nbsp;getChunk(long&nbsp;streamId,
                              int&nbsp;chunkIndex)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#getChunk-long-int-">StreamManager</a></code></span></div>
<div class="block">Called in response to a fetchChunk() request. The returned buffer will be passed as-is to the
 client. A single stream will be associated with a single TCP connection, so this method
 will not be called in parallel for a particular stream.

 Chunks may be requested in any order, and requests may be repeated, but it is not required
 that implementations support this behavior.

 The returned ManagedBuffer will be release()'d after being written to the network.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#getChunk-long-int-">getChunk</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - id of a stream that has been previously registered with the StreamManager.</dd>
<dd><code>chunkIndex</code> - 0-indexed chunk of the stream that's requested</dd>
</dl>
</li>
</ul>
<a name="connectionTerminated-io.netty.channel.Channel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionTerminated</h4>
<pre>public&nbsp;void&nbsp;connectionTerminated(io.netty.channel.Channel&nbsp;channel)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#connectionTerminated-io.netty.channel.Channel-">StreamManager</a></code></span></div>
<div class="block">Indicates that the given channel has been terminated. After this occurs, we are guaranteed not
 to read from the associated streams again, so any state can be cleaned up.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#connectionTerminated-io.netty.channel.Channel-">connectionTerminated</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></code></dd>
</dl>
</li>
</ul>
<a name="checkAuthorization-org.apache.spark.network.client.TransportClient-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAuthorization</h4>
<pre>public&nbsp;void&nbsp;checkAuthorization(<a href="../../../../../org/apache/spark/network/client/TransportClient.html" title="class in org.apache.spark.network.client">TransportClient</a>&nbsp;client,
                               long&nbsp;streamId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#checkAuthorization-org.apache.spark.network.client.TransportClient-long-">StreamManager</a></code></span></div>
<div class="block">Verify that the client is authorized to read from the given stream.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/spark/network/server/StreamManager.html#checkAuthorization-org.apache.spark.network.client.TransportClient-long-">checkAuthorization</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/spark/network/server/StreamManager.html" title="class in org.apache.spark.network.server">StreamManager</a></code></dd>
</dl>
</li>
</ul>
<a name="registerStream-java.lang.String-java.util.Iterator-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>registerStream</h4>
<pre>public&nbsp;long&nbsp;registerStream(java.lang.String&nbsp;appId,
                           java.util.Iterator&lt;<a href="../../../../../org/apache/spark/network/buffer/ManagedBuffer.html" title="class in org.apache.spark.network.buffer">ManagedBuffer</a>&gt;&nbsp;buffers)</pre>
<div class="block">Registers a stream of ManagedBuffers which are served as individual chunks one at a time to
 callers. Each ManagedBuffer will be release()'d after it is transferred on the wire. If a
 client connection is closed before the iterator is fully drained, then the remaining buffers
 will all be release()'d.

 If an app ID is provided, only callers who've authenticated with the given app ID will be
 allowed to fetch from this stream.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/spark/network/server/NoOpRpcHandler.html" title="class in org.apache.spark.network.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/spark/network/server/RpcHandler.html" title="class in org.apache.spark.network.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/spark/network/server/OneForOneStreamManager.html" target="_top">Frames</a></li>
<li><a href="OneForOneStreamManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
